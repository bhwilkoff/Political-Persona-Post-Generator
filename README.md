# Political Persona Post Generator

This web application leverages the power of the Google Gemini API to generate social media reaction posts from a specific political viewpoint. Given a URL to a news article or another social media post, the app analyzes the content and crafts a response that mimics the tone, style, and arguments of a chosen political ideology.

## ‚ú® Features

-   **Wide Range of Personas:** Choose from over 25 distinct political ideologies, from Anarcho-Communist to Theoconservative.
-   **Intelligent Content Analysis:** Provide any URL, and the AI will attempt to analyze its content.
-   **Google Search Grounding:** For paywalled articles or complex topics, the app uses Google Search via the Gemini API to gather context and provide sourced information.
-   **AI-Generated Imagery:** Each post is accompanied by a unique, symbolic image generated by Google's Imagen model, visually representing the theme of the reaction.
-   **Dual-Format Output:** Get both a detailed, long-form reaction and a concise, short-form version (under 280 characters) perfect for platforms like X (formerly Twitter).
-   **Manual Context Fallback:** If a URL from a private social media site can't be automatically processed, you can manually provide the post's text and a screenshot for analysis.
-   **Top Story Fetcher:** Don't have a URL? Instantly fetch the current top news story from a variety of major sources like the BBC, New York Times, CNN, and more.
-   **Easy Sharing:** Use the Web Share API to share the generated text and image, with a fallback to copy the text to your clipboard.

## üöÄ Getting Started

This is a static frontend application that can be deployed to any modern static site hosting service.

### Prerequisites

-   A hosting environment that supports serving static files (e.g., Vercel, Netlify, Firebase Hosting, GitHub Pages).
-   A valid Google Gemini API Key. You can get one from [Google AI Studio](https://aistudio.google.com/).

### Deployment

1.  **Clone or Fork this Repository:**
    ```bash
    git clone https://github.com/google/aistudio-template-political-persona-post-generator.git
    cd aistudio-template-political-persona-post-generator
    ```

2.  **Configure Environment Variables:**
    The application requires your Google Gemini API key to be available as an environment variable named `API_KEY` in your deployment environment. You must configure this in the settings of your chosen hosting provider. The application will not function without it.

3.  **Deploy:**
    Deploy the contents of the repository to your static hosting provider. Since there is no build step required for this project, you can typically point your hosting service directly to the root of the repository.

## ‚öôÔ∏è How It Works

1.  **Input:** The user provides a URL and selects a political viewpoint from the dropdown menu.
2.  **Content Fetching:** The application first attempts to fetch content directly from the URL using specialized methods for platforms like Reddit and Bluesky, or by parsing metadata from proxy services for sites like X and Instagram.
3.  **AI Analysis (Gemini):**
    -   If direct content fetching succeeds, the content is sent to the `gemini-2.5-flash` model.
    -   If it fails, the model is instructed to use its **Google Search tool** to research the topic of the URL. This provides grounding and allows it to react to paywalled or dynamically loaded content.
    -   A detailed system instruction primes the model to adopt the persona of the chosen ideology, ensuring it responds "in character" without revealing it is an AI.
4.  **Image Generation (Imagen):**
    -   The generated text response is first passed through Gemini to create a short, symbolic, and neutral prompt for an image generator. This sanitization step helps create visually representative images while adhering to safety policies.
    -   This new prompt is then sent to the `imagen-4.0-generate-001` model to create a high-quality, photorealistic image.
5.  **Output:** The final generated text (both long and short versions), the AI-generated image, and any sources found via Google Search are displayed in a clean, readable card format.

## ‚ö†Ô∏è Disclaimer

The content generated by this application is produced by an AI model. The posts are simulations of specific political viewpoints and should not be taken as genuine opinions or accurate representations of any individual or group. This tool is intended for educational and entertainment purposes to explore how different ideologies might frame a discussion.
